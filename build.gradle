group   'com.ajourdesign.testng'
version '17.02.25'

apply plugin: 'java'
sourceCompatibility = '1.8'
targetCompatibility = '1.8'

repositories {
    jcenter()
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.1'
}

configurations {
    extLibs
}

dependencies {
    compile 'org.testng:testng:6.9.12'
    compile 'org.apache.httpcomponents:httpcore:4.4.6'
    compile 'com.googlecode.json-simple:json-simple:1.1'
    compile 'org.seleniumhq.selenium:selenium-java:3.0.1'

    extLibs 'org.testng:testng:6.9.12'
    extLibs 'org.apache.httpcomponents:httpcore:4.4.6'
    extLibs 'com.googlecode.json-simple:json-simple:1.1'
    extLibs 'org.seleniumhq.selenium:selenium-java:3.0.1'
}

jar {
    from {
        configurations.extLibs.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

test {
    dependsOn 'cleanTest'
    useTestNG() {
        suites 'TEST.xml'
    }
}
